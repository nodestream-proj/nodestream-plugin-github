<?xml version="1.0" encoding="utf-8"?><testsuites><testsuite name="pytest" errors="0" failures="1" skipped="0" tests="31" time="0.619" timestamp="2025-02-26T10:50:44.579032-08:00" hostname="macos-CYR1469VHT"><testcase classname="tests.client.test_githubclient" name="test_retry_bad_status[400]" time="0.010" /><testcase classname="tests.client.test_githubclient" name="test_retry_bad_status[401]" time="0.006" /><testcase classname="tests.client.test_githubclient" name="test_retry_bad_status[420]" time="0.006" /><testcase classname="tests.client.test_githubclient" name="test_retry_bad_status[500]" time="0.005" /><testcase classname="tests.client.test_githubclient" name="test_retry_bad_status[502]" time="0.005" /><testcase classname="tests.client.test_githubclient" name="test_retry_bad_status[503]" time="0.005" /><testcase classname="tests.client.test_githubclient" name="test_retry_bad_status[504]" time="0.007" /><testcase classname="tests.client.test_githubclient" name="test_retry_ratelimited" time="0.247" /><testcase classname="tests.client.test_githubclient" name="test_pagination" time="0.015" /><testcase classname="tests.client.test_githubclient" name="test_all_null_args" time="0.008" /><testcase classname="tests.interpretations.relationship.test_repository" name="test_simplify_repo" time="0.001" /><testcase classname="tests.interpretations.relationship.test_repository" name="test_simplify_repo_set_perm" time="0.000" /><testcase classname="tests.interpretations.relationship.test_repository" name="test_repo_relationship" time="0.001" /><testcase classname="tests.interpretations.relationship.test_user" name="test_simplify_user" time="0.000" /><testcase classname="tests.interpretations.relationship.test_user" name="test_simplify_user_identity" time="0.000" /><testcase classname="tests.interpretations.relationship.test_user" name="test_user_relationship" time="0.001" /><testcase classname="tests.test_orgs" name="test_orgs_continue_through_org_detail_status_fail" time="0.015" /><testcase classname="tests.test_orgs" name="test_orgs_continue_through_org_member_status_fail" time="0.012" /><testcase classname="tests.test_orgs" name="test_orgs_continue_through_org_member_status_fail_second" time="0.014" /><testcase classname="tests.test_orgs" name="test_orgs_continue_through_org_repo_status_fail" time="0.010" /><testcase classname="tests.test_orgs" name="test_orgs_continue_through_org_detail_connection_fail" time="0.015" /><testcase classname="tests.test_orgs" name="test_get_orgs" time="0.010" /><testcase classname="tests.test_repos" name="test_pull_org_repos" time="0.017" /><testcase classname="tests.test_repos" name="test_pull_user_repos" time="0.016" /><testcase classname="tests.test_repos" name="test_extract_records" time="0.016" /><testcase classname="tests.test_teams" name="test_extract_records" time="0.010" /><testcase classname="tests.test_users" name="test_github_user_extractor" time="0.006" /><testcase classname="tests.test_users" name="test_github_user_extractor_repo_fail" time="0.006" /><testcase classname="tests.test_users" name="test_github_user_extractor_repo_fail_broken" time="0.015"><failure message="AssertionError: assert [{'avatar_url..._user}', ...}] == [{'archive_ur...{/sha}', ...}]&#10;  &#10;  At index 0 diff: {'login': 'octocat', 'id': 1, 'node_id': 'MDQ6VXNlcjE=', 'avatar_url': 'https://github.com/images/error/octocat_happy.gif', 'gravatar_id': '', 'url': 'https://HOSTNAME/users/octocat', 'html_url': 'https://github.com/octocat', 'followers_url': 'https://HOSTNAME/users/octocat/followers', 'following_url': 'https://HOSTNAME/users/octocat/following{/other_user}', 'gists_url': 'https://HOSTNAME/users/octocat/gists{/gist_id}', 'starred_url': 'https://HOSTNAME/users/octocat/starred{/owner}{/repo}', 'subscriptions_url': 'https://HOSTNAME/users/octocat/subscripti...&#10;  &#10;  ...Full output truncated (151 lines hidden), use '-vv' to show">user_client = &lt;nodestream_github.users.GithubUserExtractor object at 0x108002fd0&gt;
gh_rest_mock = &lt;tests.mocks.githubrest.GithubHttpxMock object at 0x1080eb310&gt;

    @pytest.mark.asyncio
    async def test_github_user_extractor_repo_fail_broken(
        user_client: GithubUserExtractor,
        gh_rest_mock: GithubHttpxMock,
    ):
    
        gh_rest_mock.all_users(json=[OCTOCAT_USER])
        gh_rest_mock.get_repos_for_user(
            "octocat", "all", status_code=httpx.codes.SERVICE_UNAVAILABLE
        )
        actual = [user async for user in user_client.extract_records()]
    
&gt;       assert actual == [HELLO_WORLD_REPO | {"repositories": []}]
E       AssertionError: assert [{'avatar_url..._user}', ...}] == [{'archive_ur...{/sha}', ...}]
E         
E         At index 0 diff: {'login': 'octocat', 'id': 1, 'node_id': 'MDQ6VXNlcjE=', 'avatar_url': 'https://github.com/images/error/octocat_happy.gif', 'gravatar_id': '', 'url': 'https://HOSTNAME/users/octocat', 'html_url': 'https://github.com/octocat', 'followers_url': 'https://HOSTNAME/users/octocat/followers', 'following_url': 'https://HOSTNAME/users/octocat/following{/other_user}', 'gists_url': 'https://HOSTNAME/users/octocat/gists{/gist_id}', 'starred_url': 'https://HOSTNAME/users/octocat/starred{/owner}{/repo}', 'subscriptions_url': 'https://HOSTNAME/users/octocat/subscripti...
E         
E         ...Full output truncated (151 lines hidden), use '-vv' to show

tests/test_users.py:81: AssertionError</failure></testcase><testcase classname="tests.transformer.test_repo" name="test_transform_records" time="0.007" /><testcase classname="tests.transformer.test_repo" name="test_transform_records_alt_key" time="0.007" /></testsuite></testsuites>